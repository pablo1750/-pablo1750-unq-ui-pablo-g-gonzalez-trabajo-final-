(this.webpackJsonprpsls=this.webpackJsonprpsls||[]).push([[0],{27:function(e,t,n){},36:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),s=n.n(c),r=n(20),i=n.n(r),o=(n.p,n(27),n(13)),l=n(3),d=function(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:"container d-flex justify-content-center fixed-top mt-5",children:Object(a.jsxs)("div",{className:"intro-spinner",children:[Object(a.jsx)(o.b,{to:"/game",className:"btn btn-primary btn-lg intro-spinner start",children:"Start"}),Object(a.jsx)("div",{className:"intro-spinner-hand scissors",children:Object(a.jsx)("img",{src:"assets/intro_scissors.png"})}),Object(a.jsx)("div",{className:"intro-spinner-hand lizard",children:Object(a.jsx)("img",{src:"assets/intro_lizard.png"})}),Object(a.jsx)("div",{className:"intro-spinner-hand spock",children:Object(a.jsx)("img",{src:"assets/intro_spock.png"})}),Object(a.jsx)("div",{className:"intro-spinner-hand paper",children:Object(a.jsx)("img",{src:"assets/intro_paper.png"})}),Object(a.jsx)("div",{className:"intro-spinner-hand rock",children:Object(a.jsx)("img",{src:"assets/intro_rock.png"})})]})})})},u=function(){return Object(a.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(a.jsx)("a",{className:"navbar-brand",href:"#",children:"RPSLS Game"})})},j=n(2),b=n(7),m=n(9),h=n.n(m),p=n(15),O={name:"Covered",beat:[{card:"",message:""},{card:"",message:""}],image:"assets/card_covered.png"},x={name:"Empty",beat:[{card:"",message:""},{card:"",message:""}],image:"assets/card_empty.png"},f=[{name:"Rock",beat:[{card:"Lizard",message:"Rock crushes Lizard"},{card:"Scissors",message:"Rock crushes Scissors"}],image:"assets/card_rock.png"},{name:"Paper",beat:[{card:"Rock",message:"Paper covers Rock"},{card:"Spock",message:"Paper disproves Spock"}],image:"assets/card_paper.png"},{name:"Scissors",beat:[{card:"Paper",message:"Scissors cuts Paper"},{card:"Lizard",message:"Scissors decapitates Lizard"}],image:"assets/card_scissors.png"},{name:"Lizard",beat:[{card:"Spock",message:"Lizard poisons Spock"},{card:"Paper",message:"Lizard eats Paper"}],image:"assets/card_lizard.png"},{name:"Spock",beat:[{card:"Scissors",message:"Spock smashes Scissors"},{card:"Rock",message:"Spock vaporizes Rock"}],image:"assets/card_spock.png"}],g=function(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:"card",style:{width:"100%",textAlign:"center",backgroundColor:"rgba(255, 255, 255, 0.192)"},children:Object(a.jsx)("img",{src:e.card.image,style:{width:e.width?e.width:"100%"},className:"rounded mx-auto d-block p-1 m-0",alt:"card-image"})})})},v=function(e){return Object(a.jsxs)("div",{style:{width:"100%"},children:[e.card&&!e.show&&Object(a.jsx)(g,{card:O,width:"100px"}),e.card&&e.show&&Object(a.jsx)(g,{card:e.card,width:"100px"}),!e.card&&Object(a.jsx)(g,{card:x,width:"100px"})]})},y=function(e){return Object(a.jsx)(a.Fragment,{children:e.victories>0&&Object(a.jsxs)("span",{className:"badge badge-warning badge-pill pb-1",title:"victories",children:[e.victories,Object(a.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-trophy ml-1",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("path",{d:"M2.5.5A.5.5 0 0 1 3 0h10a.5.5 0 0 1 .5.5c0 .538-.012 1.05-.034 1.536a3 3 0 1 1-1.133 5.89c-.79 1.865-1.878 2.777-2.833 3.011v2.173l1.425.356c.194.048.377.135.537.255L13.3 15.1a.5.5 0 0 1-.3.9H3a.5.5 0 0 1-.3-.9l1.838-1.379c.16-.12.343-.207.537-.255L6.5 13.11v-2.173c-.955-.234-2.043-1.146-2.833-3.012a3 3 0 1 1-1.132-5.89A33.076 33.076 0 0 1 2.5.5zm.099 2.54a2 2 0 0 0 .72 3.935c-.333-1.05-.588-2.346-.72-3.935zm10.083 3.935a2 2 0 0 0 .72-3.935c-.133 1.59-.388 2.885-.72 3.935zM3.504 1c.007.517.026 1.006.056 1.469.13 2.028.457 3.546.87 4.667C5.294 9.48 6.484 10 7 10a.5.5 0 0 1 .5.5v2.61a1 1 0 0 1-.757.97l-1.426.356a.5.5 0 0 0-.179.085L4.5 15h7l-.638-.479a.501.501 0 0 0-.18-.085l-1.425-.356a1 1 0 0 1-.757-.97V10.5A.5.5 0 0 1 9 10c.516 0 1.706-.52 2.57-2.864.413-1.12.74-2.64.87-4.667.03-.463.049-.952.056-1.469H3.504z"})})]})})},N=0,w=1,C=0,k=1,S=2,H=3,z=function(e){return Object(a.jsxs)("div",{className:"card player text-white ".concat(e.turn?"bg-primary":"bg-secondary"," ").concat(e.data.status==k&&"blink bg-warning"),style:{minWidth:"160px"},children:[Object(a.jsxs)("div",{className:"card-header  d-flex justify-content-between align-items-center p-2",style:{minHeight:"38px"},children:[e.data.type===w&&Object(a.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-person",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("path",{d:"M10 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm6 5c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"})}),e.data.type===N&&Object(a.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-cpu",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("path",{d:"M5 0a.5.5 0 0 1 .5.5V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2A2.5 2.5 0 0 1 14 4.5h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14a2.5 2.5 0 0 1-2.5 2.5v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14A2.5 2.5 0 0 1 2 11.5H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2A2.5 2.5 0 0 1 4.5 2V.5A.5.5 0 0 1 5 0zm-.5 3A1.5 1.5 0 0 0 3 4.5v7A1.5 1.5 0 0 0 4.5 13h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 11.5 3h-7zM5 6.5A1.5 1.5 0 0 1 6.5 5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5v-3zM6.5 6a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"})}),Object(a.jsx)(y,{victories:e.data.victories})]}),Object(a.jsxs)("div",{className:"card-body p-2",children:[Object(a.jsxs)("div",{className:"card-title",children:[e.data.name.substring(0,6),e.data.name.length>6&&"\u2026"]}),Object(a.jsx)("div",{className:"card-text text-center mb-3",children:Object(a.jsx)(v,{card:e.data.cardSelected,show:e.show})}),Object(a.jsxs)("div",{style:{minHeight:"40px"},children:[e.data.type===w&&e.turn&&Object(a.jsxs)("button",{className:"btn btn-success",onClick:function(){e.onReady()},disabled:!e.turn,children:["Choice ",e.readyCountDown>0&&Object(a.jsxs)("span",{children:["(",e.readyCountDown,")"]})]}),e.data.type===N&&e.turn&&Object(a.jsxs)("button",{className:"btn btn-success",onClick:e.onReady,disabled:!0,children:[Object(a.jsx)("div",{className:"spinner-border  spinner-border-sm text-primary",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})," Choosing"]}),e.data.status==C&&!1,e.data.status==k&&Object(a.jsxs)("div",{className:"alert alert-success m-1 p-1",children:["Winner (",e.data.score,")"]}),e.data.status==S&&Object(a.jsxs)("div",{className:"alert alert-danger m-1 p-1",children:["Loser (",e.data.score,")"]}),e.data.status==H&&Object(a.jsxs)("div",{className:"alert alert-success m-1 p-1",children:["Tied (",e.data.score,")"]})]})]})]})},P=function(e){return 1+(0|Math.max.apply(null,e.map((function(e){return e.index}))))},A=s.a.createContext(null),V=function(e){return Object(a.jsxs)("button",{className:"btn m-0 p-0",onClick:function(){e.onSelect(e.card)},disabled:e.player.type===N,children:[e.player.type===N&&Object(a.jsx)(g,{card:O}),e.player.type===w&&Object(a.jsx)(g,{card:e.card})]})},L=0,B=1,M=2,F=3,R=4,_=function(e){var t=Object(c.useState)(Object(j.a)({},{current:0,state:L,roundHasWinner:!1})),n=Object(b.a)(t,2),s=n[0],r=n[1],i=Object(c.useContext)(A),o=Object(b.a)(i,2),l=o[0],d=o[1];Object(c.useEffect)((function(){l.length>0&&l.filter((function(e){return e.status===C})).every((function(e){return!!e.cardSelected}))&&(r(Object(j.a)(Object(j.a)({},s),{},{state:M})),v()),s.current in l&&l[s.current].status===S?u(O):s.current in l&&l[s.current].type===N&&(x(),setTimeout((function(){u(f[g(0,5)])}),g(500,2e3)))}),[s.current]);var u=function(e){!function(e,t,n){e((function(e){return e.map((function(e,a){return a===t?Object(j.a)(Object(j.a)({},e),{},{cardSelected:n}):e}))}))}(d,s.current,e),r(Object(j.a)(Object(j.a)({},s),{},{current:s.current+1,state:L}))},m=function(){var e=l.filter((function(e){return e.status===C})).map((function(e){return e.cardSelected})),t=e.filter((function(e,t,n){return n.indexOf(e)===t})).map((function(t){return{name:t.name,value:e.filter((function(e){return function(e,t){return e.beat.some((function(e){return e.card==t.name}))}(t,e)})).length,count:e.filter((function(e){return t.name===e.name})).length}})),n=Math.max.apply(null,t.map((function(e){return e.value}))),a=1==t.filter((function(e){return e.value==n})).length&&1==t.filter((function(e){return e.value==n}))[0].count,c=a?k:H;r(Object(j.a)(Object(j.a)({},s),{},{state:R,roundHasWinner:a})),function(e,t,n,a,c){e((function(e){return e.map((function(e){if(e.status!==C)return e;var s=t.find((function(t){return t.name===e.cardSelected.name})).value;return Object(j.a)(Object(j.a)({},e),{},{score:s,status:s==n?c:S,victories:s==n&&a?e.victories+1:e.victories})}))}))}(d,t,n,a,c)},p=function(){var e,t;r(Object(j.a)(Object(j.a)({},s),{},{roundHasWinner:!1,state:L,current:0})),e=d,t=s.roundHasWinner,e((function(e){return e.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{cardSelected:t||e.status!==S?void 0:O,score:0,status:t||e.status!==S?C:e.status})}))}))},x=function(){r(Object(j.a)(Object(j.a)({},s),{},{state:B}))},g=function(e,t){return Math.floor(Math.random()*(t-e))+e},v=function(){h.a.fire({title:"RPSLS!",html:"All players have chosen.",timer:500,timerProgressBar:!0,willOpen:function(){h.a.showLoading()},willClose:function(){m()}}).then((function(e){}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"row",style:{minHeight:"55px"},children:Object(a.jsxs)("div",{className:"col col-12 mh-100",children:[Object(a.jsx)("button",{className:"btn btn-danger m-1",onClick:function(){e.onExitBoard(s.players)},children:"Exit"}),s.state==M&&Object(a.jsx)("button",{className:"btn btn-info m-1",onClick:function(){r(Object(j.a)(Object(j.a)({},s),{},{state:F})),setTimeout((function(){m()}),1e3)},children:"Show Cards"}),s.state==R&&s.roundHasWinner&&Object(a.jsx)("button",{className:"btn btn-success m-1",onClick:p,children:"Next Round"}),s.state==R&&!s.roundHasWinner&&Object(a.jsx)("button",{className:"btn btn-warning m-1",onClick:p,children:"Tie-breaker"})]})}),Object(a.jsx)("div",{className:"row d-flex justify-content-center",children:l.map((function(e,t){return Object(a.jsx)("div",{className:"col-6 col-md-4 col-lg-2 mb-3",children:Object(a.jsx)(z,{data:e,onReady:x,turn:t==s.current,show:s.state>=F})},"player-".concat(e.index))}))}),Object(a.jsx)("div",{className:"container fixed-bottom overflow-auto ".concat(s.state===B&&"w3-animate-bottom"),children:s.state===B&&Object(a.jsx)("div",{className:"row",children:f.map((function(e){return Object(a.jsx)("div",{className:"col m-0 p-0",children:Object(a.jsx)(V,{card:e,onSelect:function(){return u(e)},player:l[s.current]})},"card_slot-".concat(e.name))}))})})]})},T=function(e){var t=Object(c.useState)(e.data),n=Object(b.a)(t,2),s=n[0],r=n[1],i=Object(c.useState)(""),o=Object(b.a)(i,2),l=o[0],d=o[1];return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("form",{className:"".concat(l&&"was-validated"," h-100"),onSubmit:function(t){t.preventDefault(),""!==s.name?e.onConfirmPlayer(Object(j.a)(Object(j.a)({},s),{},{ok:!0})):d("Name is required.")},noValidate:!0,children:[Object(a.jsxs)("div",{className:"input-group input-group-sm",children:[Object(a.jsx)("div",{className:"input-group-prepend",children:Object(a.jsxs)("span",{className:"input-group-text",children:["Player ",s.index]})}),Object(a.jsx)("input",{className:"form-control",placeholder:"Name",value:s.name,autoFocus:2!=s.index,disabled:s.type==N,onChange:function(e){d(""),r(Object(j.a)(Object(j.a)({},s),{},{name:e.target.value}))},required:!0,maxLength:30}),Object(a.jsxs)("div",{className:"input-group-append",children:[s.type==N&&Object(a.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:function(e){d(""),r(Object(j.a)(Object(j.a)({},s),{},{name:"",type:w}))},children:"HUMAN"}),s.type==w&&Object(a.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:function(e){d(""),r(Object(j.a)(Object(j.a)({},s),{},{name:"CPU",type:N}))},children:"CPU"}),Object(a.jsx)("button",{type:"submit",className:"btn btn-outline-success",children:"Confirm"}),!s.readonly&&Object(a.jsx)("button",{className:"btn btn-outline-danger",onClick:function(){return e.onCancelPlayer()},children:"Cancel"})]})]}),l&&Object(a.jsx)("div",{className:"input-group input-group-sm",children:Object(a.jsx)("div",{className:"alert alert-danger p-1 w-100",children:l})})]})})},W=function(e){var t=e.onPlayersOkChange,n=Object(c.useContext)(A),s=Object(b.a)(n,2),r=s[0],i=s[1],o=Object(c.useState)([]),l=Object(b.a)(o,2),d=l[0],u=l[1];Object(c.useEffect)((function(){t(0===d.length)}),[d,t]);var m=function(e){u(d.filter((function(t){return t!==e})))},O=function(e,t){m(e),function(e,t){e((function(e){return[].concat(Object(p.a)(e),[t])}))}(i,t)};return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-2 d-none d-sm-none d-md-block",children:" "}),Object(a.jsx)("div",{className:"col col-12 col-md-8 ",children:Object(a.jsxs)("ul",{className:"list-group",children:[Object(a.jsx)("li",{className:"list-group-item align-items-center",children:"Players"}),r.map((function(e){return Object(a.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[e.name,Object(a.jsxs)("span",{children:[Object(a.jsx)(y,{victories:e.victories}),Object(a.jsx)("button",{className:"btn btn-outline-primary btn-sm ml-2",onClick:function(){!function(e){h.a.fire({icon:"info",html:"Are you sure to eliminate ".concat(e.name,"?"),confirmButtonText:"Yes",cancelButtonText:"No",showCancelButton:!0,focusCancel:!0,focusConfirm:!1,timer:4e3,timerProgressBar:!0}).then((function(t){var n,a;t.isConfirmed&&(n=i,a=e.index,n((function(e){return e.filter((function(e){return e.index!==a}))})))}))}(e)},children:Object(a.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-trash",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(a.jsx)("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})})]})]},"playerOk-".concat(e.index))})),d.map((function(e){return Object(a.jsx)("li",{className:"list-group-item",children:Object(a.jsx)(T,{data:e,onConfirmPlayer:function(t){O(e,t)},onCancelPlayer:function(){return m(e)}})},e.index)})),0===d.length&&Object(a.jsx)("li",{className:"list-group-item",children:Object(a.jsx)("button",{className:"btn btn-primary",onClick:function(){u((function(e){return[].concat(Object(p.a)(e),[Object(j.a)(Object(j.a)({},(t=!1,{ok:!1,index:0,name:"",victories:0,score:0,readonly:t,type:w,turn:!1,choices:[],cardSelected:void 0,show:!1,status:C})),{},{index:P(r)})]);var t}))},children:"Add Player"})})]})}),Object(a.jsx)("div",{className:"col col-2 d-none d-sm-none d-md-block",children:" "})]})})},E=0,D=1,q=function(e){var t=Object(c.useState)({state:E,playersOk:!0}),n=Object(b.a)(t,2),s=n[0],r=n[1],i=Object(c.useState)([]),o=Object(b.a)(i,2),l=o[0],d=o[1];return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(A.Provider,{value:[l,d],children:[Object(a.jsx)("div",{className:"container overflow-auto ".concat(s.state==E&&"w3-animate-top"),children:s.state===E&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"row",style:{minHeight:"55px"},children:Object(a.jsxs)("div",{className:"col col-12 mh-100",children:[l.length>1&&Object(a.jsx)("button",{className:"btn btn-danger m-1",onClick:function(){h.a.fire({icon:"question",html:"Are you sure to restart?",confirmButtonText:"Yes",cancelButtonText:"No",showCancelButton:!0,focusCancel:!0,focusConfirm:!1,timer:4e3,timerProgressBar:!0}).then((function(e){e.isConfirmed&&d([])}))},children:"Restart"}),l.length>1&&s.playersOk&&Object(a.jsx)("button",{className:"btn btn-success m-1",onClick:function(){r(Object(j.a)(Object(j.a)({},s),{},{state:D}))},children:"Play"})]})}),Object(a.jsx)(W,{onPlayersOkChange:function(e){r(Object(j.a)(Object(j.a)({},s),{},{playersOk:e}))}})]})}),Object(a.jsx)("div",{className:"container overflow-auto ".concat(s.state>=D&&"w3-animate-top"),children:s.state>=D&&Object(a.jsx)(_,{onExitBoard:function(e){r(Object(j.a)(Object(j.a)({},s),{},{state:E})),d((function(e){return e.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{cardSelected:void 0,score:0,status:C})}))}))}})})]})})},U=function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(u,{}),Object(a.jsx)(o.a,{children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/game",component:q}),Object(a.jsx)(l.a,{path:"*",component:d})]})})]})};var I=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(U,{})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};n(36),n(37),n(38);i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(I,{})}),document.getElementById("root")),J()}},[[39,1,2]]]);
//# sourceMappingURL=main.3bdf9371.chunk.js.map